{
  "name": "phelumie Spring-boot-Banking-API",
  "dockerComposeFile": "docker-compose.yml",
  "service": "app",
  "workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",
  "shutdownAction": "stopCompose",

  "features": {
    "ghcr.io/devcontainers/features/docker-outside-of-docker:1": {}
  },

  "forwardPorts": [
    8081,
    8082,
    8083,
    8084,
    8085,
    8765,
    8888,
    8761,
    3306,
    27017,
    6379,
    5672,
    15672,
    9411,
    9090,
    3000,
    8180
  ],

  "portsAttributes": {
    "8081": { "label": "Customer Service" },
    "8082": { "label": "Employee Service" },
    "8083": { "label": "Loan Service" },
    "8084": { "label": "Transaction Service" },
    "8085": { "label": "Issues Service" },
    "8765": { "label": "API Gateway" },
    "8888": { "label": "Spring Cloud Config Server" },
    "8761": { "label": "Eureka Service Registry" },
    "3306": { "label": "MySQL" },
    "27017": { "label": "MongoDB" },
    "6379": { "label": "Redis" },
    "5672": { "label": "RabbitMQ" },
    "15672": { "label": "RabbitMQ Management UI" },
    "9411": { "label": "Zipkin Tracing" },
    "9090": { "label": "Prometheus" },
    "3000": { "label": "Grafana" },
    "8180": { "label": "Keycloak" }
  },

  "postCreateCommand": "bash -lc 'for d in Api-gateway Common-dto Customer Employee Eureka-naming-server Issues Loan Spring-cloud-config-server Transaction; do if [ -f \"$d/pom.xml\" ] && [ -f \"$d/mvnw\" ]; then chmod +x \"$d/mvnw\" && \"$d/mvnw\" -q -f \"$d/pom.xml\" -DskipTests dependency:go-offline || true; fi; done'",

  "customizations": {
    "vscode": {
      "settings": {
        "java.jdt.ls.java.home": "/usr/local/sdkman/candidates/java/current",
        "java.configuration.runtimes": [
          {
            "name": "JavaSE-21",
            "path": "/usr/local/sdkman/candidates/java/current",
            "default": true
          }
        ],
        "spring-boot.ls.java.home": "/usr/local/sdkman/candidates/java/current",
        "editor.formatOnSave": true
      },
      "extensions": [
        "vscjava.vscode-java-pack",
        "vscjava.vscode-maven",
        "redhat.java",
        "vmware.vscode-boot-dev-pack",
        "redhat.vscode-yaml",
        "vscjava.vscode-java-debug",
        "vscjava.vscode-java-test",
        "humao.rest-client",
        "mongodb.mongodb-vscode",
        "cweijan.vscode-mysql-client2",
        "cweijan.vscode-redis-client",
        "ms-azuretools.vscode-docker",
        "ms-kubernetes-tools.vscode-kubernetes-tools",
        "rangav.vscode-thunder-client"
      ]
    }
  },

  "remoteUser": "vscode"
}
