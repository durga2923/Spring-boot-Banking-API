{
  "name": "phelumie Spring-boot-Banking-API",
  "dockerComposeFile": "docker-compose.yml",
  "service": "app",
  "workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",

  "features": {
    "ghcr.io/devcontainers/features/java:1": {
      "version": "17",
      "installMaven": "true",
      "installGradle": "false"
    },
    "ghcr.io/devcontainers/features/docker-in-docker:2": {}
  },

  "forwardPorts": [
    8080,
    8081,
    8082,
    8083,
    8084,
    8085,
    8761,
    3306,
    27017,
    6379,
    5672,
    15672,
    9411,
    9090,
    3000,
    8180
  ],

  "portsAttributes": {
    "8080": { "label": "API Gateway" },
    "8081": { "label": "Customer Service" },
    "8082": { "label": "Transaction Service" },
    "8083": { "label": "Loan Service" },
    "8084": { "label": "Issue Service" },
    "8085": { "label": "Employee Service" },
    "8761": { "label": "Eureka Service Registry" },
    "3306": { "label": "MySQL" },
    "27017": { "label": "MongoDB" },
    "6379": { "label": "Redis" },
    "5672": { "label": "RabbitMQ" },
    "15672": { "label": "RabbitMQ Management UI" },
    "9411": { "label": "Zipkin Tracing" },
    "9090": { "label": "Prometheus" },
    "3000": { "label": "Grafana" },
    "8180": { "label": "Keycloak" }
  },

  "postCreateCommand": "mvn dependency:resolve -f api-gateway/pom.xml || true && mvn dependency:resolve -f customer-service/pom.xml || true",

  "customizations": {
    "vscode": {
      "settings": {
        "java.jdt.ls.java.home": "/usr/local/sdkman/candidates/java/current",
        "java.configuration.runtimes": [
          {
            "name": "JavaSE-17",
            "path": "/usr/local/sdkman/candidates/java/current",
            "default": true
          }
        ],
        "spring-boot.ls.java.home": "/usr/local/sdkman/candidates/java/current",
        "editor.formatOnSave": true
      },
      "extensions": [
        "vscjava.vscode-java-pack",
        "vmware.vscode-spring-boot",
        "vscjava.vscode-spring-initializr",
        "vscjava.vscode-spring-boot-dashboard",
        "vscjava.vscode-maven",
        "redhat.java",
        "vscjava.vscode-java-debug",
        "vscjava.vscode-java-test",
        "humao.rest-client",
        "mongodb.mongodb-vscode",
        "cweijan.vscode-mysql-client2",
        "cweijan.vscode-redis-client",
        "ms-azuretools.vscode-docker",
        "rangav.vscode-thunder-client"
      ]
    }
  },

  "remoteUser": "vscode"
}